<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Shortener</title>
</head>

<body>
    <div>
        <label for="url">URL: </label>
        <input type="text" name="url" id="url" placeholder="your url here">
    </div>

    <button id="but">Get URL</button>

    <ul id="generated_urls"></ul>
</body>


<script>
    const input_url = document.getElementById("url")
    const button = document.getElementById("but");
    const lista = document.getElementById("generated_urls");

    button.addEventListener("click", async () => {
        const res = await fetch(`http://localhost/shorten?url=${input_url.value}`, {
            method: "POST",
        });


        const data = await res.json();

        const url = `http://localhost/${data.short_url}`;

        const liElement = document.createElement("li");
        const aElement = document.createElement("a");
        aElement.href = url;
        aElement.innerText = url;
        liElement.appendChild(aElement);
        lista.appendChild(liElement);
    })
</script>

</html>